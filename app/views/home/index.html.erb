<div class="container">
  <div class="container">
    <div class="m-4">
      <%= form_for :person, url: upload_csv_path, method: :post, remote: true do |form| %>
        <div class="form-group">
          <%= form.label :csv_file, "Upload CSV:" %>
          <div class="custom-file">
            <%= form.file_field :csv_file, id: 'peopleCSVFile' %>
            <label class="custom-file-label" for="peopleCSVFile">Choose file...</label>
          </div>
        </div>
        <div class="form-group">
          <%= form.submit "Submit", class: 'btn btn-sm btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>

  <h3>People</h3>
  <table class="table">
    <thead class="thead-dark">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Email</th>
      <th scope="col">Phone</th>
      <th scope="col">Errors</th>
      <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody class="people-table-data">
        <% @people.each do |person| %>
          <tr>
            <th scope="row"><%= person.id %></th>
            <td><%= person.first_name %></td>
            <td><%= person.last_name %></td>
            <td><%= person.email %></td>
            <td><%= person.phone %></td>
            <td><%= person.errors&.full_messages.join(', ') %></td>
            <td></td>
          </tr>
        <% end %>
    </tbody>
  </table>
</div>